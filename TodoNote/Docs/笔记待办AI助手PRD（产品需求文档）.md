# 笔记待办AI助手PRD（产品需求文档）

**文档版本**：V1.0
**撰写人**：资深产品经理
**撰写时间**：2025年11月27日
**适用范围**：iOS/安卓双端开发团队、设计团队、测试团队

# 一、产品概述

## 1.1 产品定位

一款以「知识生长」为核心的智能笔记待办一体化工具，区别于传统“存储型”笔记软件，通过「笔记-待办双向联动+AI智能赋能+知识图谱构建」，实现“记录→理解→关联→应用→成长”的知识闭环，主打iOS原生流畅体验，后续覆盖安卓及轻量跨端场景。

## 1.2 核心价值

- **用户价值**：解决信息碎片化、笔记与待办脱节、知识利用率低的痛点，让记录更高效、知识更系统、任务更清晰。
- **商业价值**：以“基础功能免费+成长功能订阅”为模式，积累职场人、学生等核心用户，通过AI增值服务实现商业变现。
- **技术价值**：基于iOS/安卓原生开发+轻量RN跨端的混合架构，验证“核心功能原生保体验、通用功能跨端提效率”的落地可行性。

## 1.3 产品Slogan

“记有所思，办有所依——你的智能知识伙伴”

# 二、核心目标与范围

## 2.1 核心目标（V1.0版本）

1. 完成iOS原生版本开发，实现“笔记编辑+待办管理+AI生成+自动保存”核心闭环，确保功能可用、体验流畅。
2. 落地2-3个差异化亮点（笔记-待办联动、AI场景化模板、时间胶囊），形成与同类产品的核心差异。
3. 搭建基础数据同步能力（iOS端iCloud同步），为后续安卓版本及跨端同步铺路。
4. 验证用户对“知识生长型”工具的需求，收集反馈为V2.0迭代做准备。

## 2.2 产品范围（V1.0版本）


| 范围类型 | 包含内容                                                                                                                     | 排除内容（后续版本迭代）                                              |
| -------- | ---------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------- |
| 平台范围 | iOS 17+（适配iPhone 14/15系列）                                                                                              | 安卓版本、PC端、网页端                                                |
| 功能范围 | 核心：笔记编辑（富文本/Markdown/多模态）、待办管理、双向联动、AI待办生成、自动保存、iCloud同步；差异化：时间胶囊、AI场景模板 | 知识图谱、RN跨端页面、安卓云同步（华为云/Google Drive）、付费订阅功能 |
| 技术范围 | iOS原生（Swift+UIKit）、Core Data本地存储、CloudKit同步、OpenAI API集成                                                      | RN集成、安卓原生开发（Kotlin+XML）、自定义AI模型                      |

# 三、目标用户与痛点分析

## 3.1 核心用户群体


| 用户类型              | 用户画像                                                                     | 核心需求                                                         | 典型场景                                                                            |
| --------------------- | ---------------------------------------------------------------------------- | ---------------------------------------------------------------- | ----------------------------------------------------------------------------------- |
| 职场人士（25-35岁）   | 互联网、金融等行业从业者，高频使用笔记记录会议纪要、项目规划，需关联任务落地 | 快速生成会议待办、笔记与任务联动、多设备同步、简洁高效编辑       | 开会时用语音/图片记录要点，自动生成结构化纪要和待办，后续通过待办跳转回笔记对应内容 |
| 学生群体（18-24岁）   | 大学生、研究生，需记录课程笔记、复习要点，关联学习任务和截止时间             | Markdown排版、OCR图片转文字（课件/板书）、笔记历史回溯、考点提炼 | 拍摄老师板书转文字生成笔记，用AI提取考点关联复习待办，通过时间胶囊回顾笔记修改轨迹  |
| 自由职业者（28-40岁） | 设计师、撰稿人等，需记录灵感、项目进度，关联客户需求和交付节点               | 多模态输入（文字/图片/语音）、灵感快速捕捉、任务优先级管理       | 突发灵感时用悬浮窗快速记录，插入设计草图图片，生成项目待办并标注优先级              |

## 3.2 核心痛点与产品解决方案


| 核心痛点                         | 用户抱怨                                                         | 产品解决方案                                                                                                              |
| -------------------------------- | ---------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------- |
| 笔记与待办脱节，记录后难落地     | “笔记里记了一堆会议要点，转头就忘要做什么，还要手动抄到待办里” | 1. 笔记选中文本一键生成待办；2. 待办关联笔记具体位置，点击直接跳转；3. 待办状态同步更新笔记标注颜色                       |
| 记录后信息碎片化，难形成知识体系 | “笔记越记越多，想找相关内容要翻半天，不知道知识点之间的关联”   | 1. AI自动提取笔记关键词，生成简易知识图谱；2. 时间胶囊记录笔记修改轨迹，回溯思考过程；3. 相关笔记智能推荐                 |
| 突发闪退/杀后台，内容丢失        | “写了半小时的笔记没保存，手机闪退全没了，心态崩了”             | 1. 输入防抖0.5秒自动保存；2. 应用退后台/杀后台强制保存；3. Core Data+沙盒临时文件双重兜底，崩溃后自动恢复                 |
| 编辑效率低，格式排版费时间       | “写会议纪要要手动调标题、列表，拍的课件还要一个个打字”         | 1. 场景化AI模板（会议纪要/读书心得等）一键生成结构；2. OCR图片转文字（支持课件/板书/文档）；3. Markdown实时渲染，简化排版 |

# 四、功能需求规格（V1.0版本）

**优先级说明**：P0（核心必做，不完成则产品不可用）、P1（重要功能，影响核心体验）、P2（优化功能，后续迭代可补充）

## 模块1：核心功能模块（P0/P1）

### 1.1 笔记编辑功能


| 功能点        | 功能描述                                                                               | 操作流程                                                                                                                                                                                                    | 优先级 | 备注                                                                   |
| ------------- | -------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------------------------------------------------- |
| 基础文本编辑  | 支持标题/正文输入，Markdown实时渲染（粗体、斜体、有序/无序列表、代码块），光标定位精准 | 1. 进入编辑页自动聚焦输入框；2. 输入文本时底部工具栏显示格式按钮；3. 选中文字弹出格式菜单；4. 输入Markdown语法自动渲染（如“# ”自动变为标题）                                                              | P0     | 字体统一为San Francisco，标题18pt粗体，正文16pt常规                    |
| 多模态输入    | 支持图片插入、OCR图片转文字、语音输入转文字，满足不同场景记录需求                      | 1. 图片插入：点击工具栏“🖼️”→ 选择相册/拍照→ 插入后自动居中，可双击缩放；2. OCR转文字：点击图片下方“OCR转文字”→ 识别完成后将文字插入笔记；3. 语音输入：点击工具栏“🎤”→ 说话→ 识别完成后插入文本 | P1     | 图片格式优先HEIC（体积小），OCR支持中英文识别，语音识别支持普通话/英语 |
| 笔记标题管理  | 支持标题编辑，默认“未命名笔记”，自动提取正文前10字作为标题建议                       | 1. 编辑页顶部输入框输入标题；2. 若未输入标题，退出编辑时弹出“是否使用正文前10字作为标题”提示；3. 笔记列表页显示完整标题（超出15字省略）                                                                   | P0     | 标题输入框支持字数限制（最多50字）                                     |
| 笔记删除/归档 | 支持笔记删除至回收站，保留30天可恢复，避免误删                                         | 1. 笔记列表页左滑笔记→ 点击“删除”；2. 弹出确认弹窗→ 确认后移至回收站；3. 回收站页面可恢复/永久删除（30天后自动永久删除）                                                                                | P1     | 删除时需提示“删除后将移至回收站保留30天”                             |

### 1.2 待办管理功能


| 功能点         | 功能描述                                                               | 操作流程                                                                                                                                                                   | 优先级 | 备注                                                             |
| -------------- | ---------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------------------------------------------- |
| 待办创建       | 支持手动创建、从笔记生成两种方式，可设置标题、详情、优先级（高/中/低） | 1. 手动创建：首页点击“+”→ 选择“新建待办”→ 输入标题/详情/选择优先级→ 保存；2. 从笔记生成：选中笔记文本→ 点击“AI生成待办”→ 编辑后保存                             | P0     | 优先级对应标记：高（红色“！”）、中（橙色“！”）、低（无标记） |
| 待办状态管理   | 支持待办状态切换（未完成/已完成），已完成待办可筛选、清除              | 1. 点击待办左侧复选框→ 切换状态（未完成→已完成，已完成→未完成）；2. 待办列表页点击“已完成”标签→ 筛选已完成待办；3. 底部点击“清除已完成”→ 确认后删除所有已完成待办 | P0     | 已完成待办标题显示删除线，背景色为浅灰                           |
| 待办筛选与排序 | 支持按状态（全部/未完成/已完成）筛选，按优先级+更新时间AI智能排序      | 1. 待办列表页顶部点击标签切换筛选状态；2. 默认按“高优先级→中优先级→低优先级”排序，同优先级按更新时间倒序；3. 顶部显示“AI推荐排序”标签                                | P1     | 后续迭代支持自定义排序（时间/优先级）                            |

### 1.3 笔记-待办联动功能（核心差异化）


| 功能点       | 功能描述                                                                       | 操作流程                                                                                                                        | 优先级 | 备注                                                             |
| ------------ | ------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------------------------------------------- |
| 文本关联待办 | 笔记中选中的文本可关联已有待办，关联后文本下方显示蓝色下划线标记               | 1. 选中笔记文本→ 弹出菜单点击“关联待办”；2. 选择已有待办→ 确认关联；3. 文本下方显示蓝色下划线，hover时提示“关联待办：XXX” | P0     | 下划线长度与关联文本一致，支持同时关联多个待办（下划线叠加显示） |
| 待办跳转笔记 | 待办列表中点击待办右侧箭头，可直接跳转至关联的笔记对应位置，自动定位到关联文本 | 1. 待办列表页找到关联笔记的待办；2. 点击右侧“→”图标；3. 跳转至对应笔记，关联文本自动高亮（背景色#F0F8FF）3秒                 | P0     | 跳转时带过渡动画，提升体验流畅度                                 |
| 状态同步更新 | 待办状态从“未完成”变为“已完成”时，笔记中对应的文本下划线颜色从蓝色变为灰色 | 1. 切换待办状态为“已完成”；2. 系统自动同步笔记关联标记颜色；3. 打开笔记时可直观看到待办完成情况                               | P1     | 同步延迟≤1秒，确保实时性                                        |
| 联动弹窗详情 | 点击笔记中的关联下划线，弹出待办详情弹窗，支持直接修改待办状态、编辑或删除关联 | 1. 点击笔记中的蓝色下划线；2. 弹出弹窗显示待办标题、详情、优先级；3. 弹窗底部可切换状态、点击“编辑”/“删除关联”              | P1     | 弹窗点击外部可关闭，带淡入淡出动画                               |

## 模块2：AI智能模块（P1）

### 2.1 AI待办生成

功能描述：基于笔记内容，通过AI自动提取关键任务，生成待办列表，支持批量选择保存；
操作流程：1. 进入笔记编辑页→ 点击右上角“AI”按钮；2. 选择生成场景（如“会议纪要”“学习笔记”）；3. AI分析内容生成待办列表；4. 勾选需要保存的待办→ 点击“保存至待办”；
优先级：P1；
核心要求：AI提取准确率≥85%（针对清晰的会议纪要/学习笔记），支持手动修改生成的待办内容。

### 2.2 场景化AI模板

功能描述：内置4类高频场景模板（会议纪要、读书心得、项目规划、学习笔记），选择模板后AI引导生成结构化内容；
操作流程：1. 首页点击“+”→ 选择“新建笔记”→ 选择场景模板；2. 按提示输入关键信息（如会议主题/参会人、书籍名称/核心观点）；3. AI生成结构化笔记框架；4. 用户补充细节完成编辑；
优先级：P1；
模板详情：

- 会议纪要：包含“会议主题、时间、参会人、核心要点、待办分配、下次会议时间”模块；
- 读书心得：包含“书籍信息、核心观点、金句摘抄、个人感悟、行动清单”模块。

### 2.3 时间胶囊（差异化亮点）

功能描述：自动记录笔记的所有修改版本，支持按时间线回溯查看，展示“思维演变过程”；
操作流程：1. 笔记编辑页点击右上角“时钟”图标；2. 进入时间线视图，按更新时间倒序显示版本列表（标注修改时间/修改内容摘要）；3. 点击某版本可预览内容，支持“恢复此版本”“对比当前版本”；
优先级：P1；
核心要求：版本记录不占用额外存储空间（仅保存修改差异），支持手动删除无用版本。

## 模块3：数据安全与同步模块（P0）

### 3.1 自动保存功能（核心保障）


| 保存时机                                                               | 触发条件                            | 技术实现                                      | 用户反馈                              |
| ---------------------------------------------------------------------- | ----------------------------------- | --------------------------------------------- | ------------------------------------- |
| 防抖自动保存                                                           | 用户连续输入时，停止输入0.5秒后触发 | 子线程执行Core Data保存，避免阻塞UI           | 导航栏显示“✓保存中”（灰色）        |
| 生命周期保存                                                           | 应用退后台、被挂起、将要终止时      | AppDelegate监听对应事件，强制调用保存接口     | 后台时本地通知提示“笔记已自动保存”  |
| 定时备份                                                               | 每1分钟自动备份一次至沙盒临时文件   | 将笔记数据转为JSON格式写入UserDefaults        | 无显性反馈，仅日志记录                |
| 崩溃恢复                                                               | App崩溃重启后，进入笔记编辑页时     | 优先从Core Data恢复，失败则从沙盒临时文件恢复 | 弹出Toast提示“已恢复上次未保存内容” |
| 优先级：P0；                                                           |                                     |                                               |                                       |
| 核心指标：崩溃后内容恢复率≥99.9%，保存过程中UI无卡顿（帧率≥60fps）。 |                                     |                                               |                                       |

### 3.2 iCloud同步功能

功能描述：支持iOS端通过iCloud同步笔记和待办数据，实现多设备（iPhone/iPad）数据互通；
操作流程：1. 进入设置页→ 开启“iCloud同步”开关；2. 系统自动同步本地数据至iCloud；3. 另一台设备登录同一Apple ID，打开App自动同步数据；
优先级：暂时不做；
核心要求：

1. 同步触发时机：数据修改后立即同步、App启动时同步、切换网络后同步；
2. 冲突解决：采用“最后修改时间优先”原则，冲突时保留两个版本并提示用户选择；
3. 同步状态提示：设置页显示“同步中”“已同步”“同步失败”状态，失败时提供“重试”按钮。

## 模块4：基础功能模块（P0/P1）

### 4.1 账号体系

功能描述：iOS端优先集成Apple ID快捷登录，无需注册，直接关联设备账号；
操作流程：1. 首次打开App→ 点击“Apple ID快捷登录”；2. 授权后自动完成登录，生成唯一用户ID；
优先级：暂时不做；
核心要求：登录状态持久化，卸载重装后可自动登录。

### 4.2 设置页功能


| 功能点     | 描述                                                          | 优先级   |
| ---------- | ------------------------------------------------------------- | -------- |
| 同步设置   | iCloud同步开关、同步状态显示、手动同步按钮                    | 暂时不做 |
| 功能开关   | 自动保存、时间胶囊、AI生成待办的开关控制                      | P1       |
| 外观设置   | 暗黑模式（跟随系统/手动开启）、字体大小调节（标准/放大/缩小） | P1       |
| 关于与反馈 | 软件版本、反馈入口（跳转邮件）、隐私政策链接                  | P1       |

# 五、非功能需求规格

## 5.1 性能需求

- 编辑性能：文本输入延迟≤50ms，插入10张图片（单张≤5MB）后编辑无卡顿，滚动帧率≥60fps。
- 同步性能：单条笔记（≤1000字+3张图）iCloud同步时间≤3秒，10条笔记批量同步≤10秒。
- 启动性能：冷启动时间≤2秒，热启动时间≤1秒。
- 存储性能：单条笔记版本记录占用空间≤原笔记的50%（仅存差异），100条笔记占用空间≤1GB。

## 5.2 兼容性需求

- 系统版本：支持iOS 17及以上版本，适配iPhone 14/15系列所有机型（含Pro/Pro Max）。
- 屏幕适配：支持不同屏幕尺寸（390×844pt至430×932pt），布局自动调整，核心内容不被遮挡。
- 网络适配：支持Wi-Fi/5G/4G网络，离线状态下可正常编辑、查看本地数据，联网后自动同步。

## 5.3 安全需求

- 数据加密：本地数据（Core Data）采用AES加密存储，iCloud同步数据开启端到端加密。
- 隐私保护：仅收集必要信息（用户ID、笔记数据），不收集无关隐私（如位置、通讯录），符合Apple App Store隐私规范。
- 权限控制：仅申请必要权限（相册、相机、麦克风，用于多模态输入），无权限时提供功能引导而非强制授权。

## 5.4 可用性需求

- 学习成本：核心功能（笔记编辑、待办创建）操作路径≤2步，新用户首次使用可快速上手（≤5分钟）。
- 错误处理：操作失败（如同步失败、OCR识别失败）时，提供明确提示（如“同步失败，请检查网络”）和解决方案（如“点击重试”）。
- 帮助引导：首次使用时弹出简易引导（3步，介绍“+新建”“AI生成”“关联待办”核心功能），设置页提供“使用帮助”入口。

# 六、UI/UX设计规范

## 6.1 全局设计原则

- 内容优先：编辑区域占屏幕≥60%，UI元素（工具栏、导航栏）默认简洁，避免干扰内容创作。
- iOS原生风格：遵循iOS 17设计规范，采用极简线条、充足留白，交互逻辑与系统应用（如Apple Notes）保持一致。
